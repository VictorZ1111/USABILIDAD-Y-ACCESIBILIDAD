<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Panel Principal</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <header>
    <div class="logo">ü§ñ Diagn√≥stico IA</div>
    <div class="user-info">
      <span id="welcomeUser">Bienvenido, Usuario</span>
      <button onclick="logout()">Cerrar Sesi√≥n</button>
    </div>
  </header>

  <!-- Bot√≥n del men√∫ lateral -->
  <button id="menu-btn">‚ò∞</button>
  <aside id="sidebar">
    <h2>Accesibilidad</h2>
    <button onclick="toggleDarkMode()">üåô Modo oscuro</button>
    <button onclick="increaseText()">Aumentar texto</button>
    <button onclick="decreaseText()">Disminuir texto</button>
    <button onclick="textToSpeech()">üó£Ô∏è Lectura de texto</button>
    <button onclick="stopSpeech()">üîá Detener lectura</button>
  </aside>

  <main>
    <section class="welcome">
      <h1>Diagn√≥stico Preliminar con IA</h1>
      <p>Ingresa tus s√≠ntomas para obtener un diagn√≥stico orientativo.</p>

      <!-- üîç Barra de b√∫squeda -->
      <div class="search-container">
        <input type="text" id="searchInput" placeholder="Buscar consejos o temas de salud..." aria-label="Buscar en el panel">
        <button onclick="buscar()">Buscar</button>
      </div>
      <div id="searchResults"></div>
    </section>

    <!-- üß† Diagn√≥stico -->
    <section id="diagnostico">
      <h2>Formulario de S√≠ntomas</h2>
      <form id="symptom-form">
        <textarea id="symptoms" rows="4" required placeholder="Ejemplo: fiebre, tos seca, dolor de cabeza..."></textarea>
        <br>
        <button type="submit">Analizar</button>
      </form>
      <div id="result"></div>
    </section>

    <!-- üé¨ Videos educativos -->
    <section id="videos">
      <h2>Videos educativos</h2>
      <video controls width="80%" aria-label="Video educativo sobre salud general" preload="metadata">
        <source src="video.mp4" type="video/mp4">
        <track src="video.mp4" kind="subtitles" srclang="es" label="Espa√±ol" default>
        Tu navegador no soporta video HTML5.
      </video>
      <p><strong>Transcripci√≥n:</strong> Este video explica temas de prevenci√≥n o h√°bitos saludables.</p>

      <video controls width="80%" aria-label="Video sobre h√°bitos saludables" preload="metadata" style="margin-top: 20px;">
        <source src="video.mp4" type="video/mp4">
        Tu navegador no soporta video HTML5.
      </video>
      <p><strong>Recomendaci√≥n:</strong> Este segundo video trata sobre alimentaci√≥n balanceada o ejercicio f√≠sico b√°sico.</p>
    </section>

    <!-- üì∞ Novedades -->
    <section id="novedades">
      <h2>ü©∫ Novedades y Consejos de Salud</h2>
      <ul>
        <li>üíß Mantente hidratado: al menos 2 litros de agua diarios.</li>
        <li>üò¥ Dormir bien fortalece tu sistema inmunol√≥gico.</li>
        <li>ü•ó Incrementa el consumo de frutas y verduras frescas.</li>
        <li>üö∂ Realiza actividad f√≠sica moderada al menos 30 minutos al d√≠a.</li>
      </ul>
    </section>

    <!-- ‚öôÔ∏è Diagn√≥sticos recientes -->
    <section id="recientes">
      <h2>üìã Mis diagn√≥sticos recientes</h2>
      <div id="listaDiagnosticos">
        <p>No hay diagn√≥sticos registrados a√∫n.</p>
      </div>
    </section>
  </main>

  <footer>
    <p>¬© 2025 Diagn√≥stico IA | Soporte | Pol√≠tica de privacidad</p>
  </footer>

  <script src="script.js"></script>

    <script>
        // === B√öSQUEDA AVANZADA ===
        function buscar() {
        const input = document.getElementById("searchInput").value.toLowerCase().trim();
        const results = document.getElementById("searchResults");

        const temas = [
            {
            palabras: ["alimentacion", "comida", "nutricion", "dieta"],
            texto: "üçé Una alimentaci√≥n balanceada mejora el sistema inmune. Incluye frutas, verduras, prote√≠nas y evita el exceso de az√∫cares.",
            },
            {
            palabras: ["ejercicio", "actividad", "deporte"],
            texto: "üèÉ‚Äç‚ôÇÔ∏è El ejercicio regular reduce el riesgo de enfermedades card√≠acas y mejora tu estado de √°nimo.",
            },
            {
            palabras: ["sue√±o", "dormir", "descanso"],
            texto: "üò¥ Dormir entre 7 y 8 horas favorece la memoria, la concentraci√≥n y la salud hormonal.",
            },
            {
            palabras: ["hidratacion", "agua", "beber"],
            texto: "üíß Mantente hidratado. Beber suficiente agua ayuda a la digesti√≥n, la piel y el funcionamiento del cerebro.",
            },
            {
            palabras: ["estres", "ansiedad", "tension"],
            texto: "üßò‚Äç‚ôÄÔ∏è Controlar el estr√©s mediante respiraci√≥n, meditaci√≥n o pausas activas puede prevenir enfermedades mentales y f√≠sicas.",
            }
        ];

        let coincidencias = temas.filter(t =>
            t.palabras.some(p => input.includes(p))
        );

        results.innerHTML = coincidencias.length
            ? `<ul>${coincidencias.map(r => `<li>${r.texto}</li>`).join('')}</ul>`
            : `<p>No se encontraron temas relacionados. Prueba con palabras como <em>alimentaci√≥n, ejercicio, estr√©s...</em></p>`;
        }

        // === DIAGN√ìSTICO "IA" REALISTA ===
        document.getElementById("symptom-form").addEventListener("submit", (e) => {
        e.preventDefault();
        const sintomas = document.getElementById("symptoms").value.toLowerCase();
        let diagnostico = "";
        let probabilidad = Math.floor(Math.random() * 21) + 70; // genera un 70‚Äì90%

        if (sintomas.includes("tos") && sintomas.includes("fiebre")) {
            diagnostico = "Podr√≠as tener una infecci√≥n respiratoria tipo gripe o bronquitis leve.";
        } else if (sintomas.includes("dolor de cabeza") && sintomas.includes("mareo")) {
            diagnostico = "Podr√≠a tratarse de migra√±a o presi√≥n arterial baja.";
        } else if (sintomas.includes("dolor de est√≥mago") || sintomas.includes("n√°usea") || sintomas.includes("vomito")) {
            diagnostico = "S√≠ntomas compatibles con una indigesti√≥n o infecci√≥n gastrointestinal leve.";
        } else if (sintomas.includes("ansiedad") || sintomas.includes("estres")) {
            diagnostico = "Posibles signos de estr√©s o ansiedad. Prueba ejercicios de respiraci√≥n o descanso.";
        } else if (sintomas.includes("dolor muscular") || sintomas.includes("fatiga")) {
            diagnostico = "Podr√≠a deberse a fatiga f√≠sica o a una infecci√≥n viral temporal.";
        } else if (sintomas.includes("picazon") || sintomas.includes("erupcion")) {
            diagnostico = "Podr√≠as tener una reacci√≥n al√©rgica leve o dermatitis por contacto.";
        } else if (sintomas.includes("fiebre alta") && sintomas.includes("dolor corporal")) {
            diagnostico = "Posible cuadro de influenza. Consulta a un m√©dico si los s√≠ntomas persisten.";
        } else {
            diagnostico = "No se puede determinar con precisi√≥n. Recomendamos una evaluaci√≥n m√©dica.";
            probabilidad = 60;
        }

        document.getElementById("result").innerHTML = `
            <div class="diagnostico-box">
            <h3>ü©∫ Diagn√≥stico Preliminar</h3>
            <p>${diagnostico}</p>
            <p><strong>Probabilidad estimada:</strong> ${probabilidad}%</p>
            </div>
        `;

        const lista = document.getElementById("listaDiagnosticos");
        const nuevo = document.createElement("p");
        nuevo.textContent = diagnostico + ` (${probabilidad}%)`;
        lista.appendChild(nuevo);
        });
    </script>

</body>
</html>
