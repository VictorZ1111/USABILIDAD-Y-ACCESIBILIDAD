<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Panel Principal</title>
  <link rel="stylesheet" href="../css/style.css">
</head>
<body>
  <header role="banner">
    <div class="logo" aria-label="Logo de DiagnÃ³stico IA">ğŸ¤– DiagnÃ³stico IA</div>
    
    <!-- MenÃº de navegaciÃ³n principal -->
    <nav class="main-nav" role="navigation" aria-label="NavegaciÃ³n principal">
      <a href="#inicio" class="nav-link" id="nav-inicio" onclick="mostrarVista('inicio'); return false;" aria-current="page">ğŸ  Inicio</a>
      <a href="#diagnostico" class="nav-link" id="nav-diagnostico" onclick="mostrarVista('diagnostico'); return false;">ğŸ©º DiagnÃ³stico</a>
      <a href="#videos" class="nav-link" id="nav-videos" onclick="mostrarVista('videos'); return false;">ğŸ¬ Videos</a>
      <a href="#consejos" class="nav-link" id="nav-consejos" onclick="mostrarVista('consejos'); return false;">ğŸ’¡ Consejos</a>
      
      <!-- Ayuda con desplegable -->
      <div class="nav-dropdown">
        <button class="nav-link dropdown-toggle" id="nav-ayuda" aria-expanded="false" onclick="toggleNavDropdown()">
          â“ Ayuda <span class="dropdown-arrow">â–¼</span>
        </button>
        <div class="dropdown-menu" id="ayuda-dropdown" hidden>
          <a href="#" onclick="mostrarAyuda(event)" class="dropdown-item">âŒ¨ï¸ Atajos</a>
          <a href="soporte.html" class="dropdown-item">ğŸ“ Soporte</a>
        </div>
      </div>
    </nav>
    
    <div class="user-info" role="navigation" aria-label="InformaciÃ³n de usuario">
      <span id="welcomeUser" aria-live="polite">Bienvenido, Usuario</span>
      <button onclick="logout()" aria-label="Cerrar sesiÃ³n">Cerrar SesiÃ³n</button>
    </div>
  </header>

  <!-- BotÃ³n del menÃº lateral -->
  <button id="menu-btn" aria-label="Abrir menÃº de accesibilidad" aria-expanded="false" aria-controls="sidebar">â˜°</button>
  <aside id="sidebar" role="complementary" aria-label="MenÃº de accesibilidad">
    <h2>MenÃº de Accesibilidad</h2>
    
    <!-- Tema -->
    <div class="menu-item">
      <button class="menu-toggle" onclick="toggleSubmenu('tema-options')" aria-expanded="false">
        ğŸ¨ Tema <span class="arrow">â–¼</span>
      </button>
      <div id="tema-options" class="submenu" hidden>
        <button onclick="setTheme('light')" aria-label="Activar tema claro">â˜€ï¸ Claro</button>
        <button onclick="setTheme('dark')" aria-label="Activar tema oscuro">ğŸŒ™ Oscuro</button>
      </div>
    </div>

    <!-- Idioma -->
    <div class="menu-item">
      <button class="menu-toggle" onclick="toggleSubmenu('idioma-options')" aria-expanded="false">
        ğŸŒ Idioma <span class="arrow">â–¼</span>
      </button>
      <div id="idioma-options" class="submenu" hidden>
        <button onclick="i18n.changeLanguage('es')" aria-label="Cambiar a espaÃ±ol">ğŸ‡ªğŸ‡¸ EspaÃ±ol</button>
        <button onclick="i18n.changeLanguage('en')" aria-label="Cambiar a inglÃ©s">ğŸ‡ºğŸ‡¸ English</button>
      </div>
    </div>

    <!-- TamaÃ±o de Texto -->
    <div class="menu-item">
      <button class="menu-toggle" onclick="toggleSubmenu('texto-options')" aria-expanded="false">
        ğŸ”¤ TamaÃ±o de Texto <span class="arrow">â–¼</span>
      </button>
      <div id="texto-options" class="submenu" hidden>
        <button onclick="increaseText()" aria-label="Aumentar tamaÃ±o del texto">â• Aumentar</button>
        <button onclick="decreaseText()" aria-label="Disminuir tamaÃ±o del texto">â– Disminuir</button>
        <button onclick="resetText()" aria-label="Restablecer tamaÃ±o del texto">ğŸ”„ Restablecer</button>
      </div>
    </div>

    <!-- Lectura de Texto -->
    <div class="menu-item">
      <button class="menu-toggle" onclick="toggleSubmenu('lectura-options')" aria-expanded="false">
        ğŸ—£ï¸ Lectura de Texto <span class="arrow">â–¼</span>
      </button>
      <div id="lectura-options" class="submenu" hidden>
        <button onclick="textToSpeech()" aria-label="Activar lectura de texto">â–¶ï¸ Iniciar</button>
        <button onclick="stopSpeech()" aria-label="Detener lectura de texto">â¹ï¸ Detener</button>
      </div>
    </div>
  </aside>

  <main id="main-content" role="main">
    <!-- ğŸ  VISTA DE INICIO -->
    <section id="vista-inicio" class="dashboard-section active">
      <div class="welcome-dashboard">
        <h1>ğŸ  Panel Principal - Bienvenido al Sistema</h1>
        <p class="subtitle">Tu centro de salud personal con Inteligencia Artificial</p>
        
        <!-- Tarjetas de acciÃ³n rÃ¡pida -->
        <div class="quick-actions">
          <div class="action-card" onclick="mostrarVista('diagnostico')">
            <div class="card-icon">ğŸ©º</div>
            <h3>Nuevo DiagnÃ³stico</h3>
            <p>Analiza tus sÃ­ntomas con IA</p>
            <button class="card-btn">Comenzar</button>
          </div>
          
          <div class="action-card" onclick="mostrarVista('diagnostico'); setTimeout(() => document.getElementById('recientes').scrollIntoView({behavior: 'smooth'}), 100)">
            <div class="card-icon">ğŸ“‹</div>
            <h3>Historial</h3>
            <p>Ver diagnÃ³sticos anteriores</p>
            <button class="card-btn">Ver</button>
          </div>
          
          <div class="action-card" onclick="mostrarVista('videos')">
            <div class="card-icon">ğŸ¬</div>
            <h3>Videos Educativos</h3>
            <p>Aprende sobre salud</p>
            <button class="card-btn">Explorar</button>
          </div>
          
          <div class="action-card" onclick="location.href='soporte.html'">
            <div class="card-icon">ğŸ“</div>
            <h3>Soporte</h3>
            <p>Ayuda y contacto</p>
            <button class="card-btn">Contactar</button>
          </div>
        </div>
      </div>
    </section>

    <!-- ğŸ©º VISTA DE DIAGNÃ“STICO -->
    <section id="vista-diagnostico" class="dashboard-section" hidden>
      <h1 id="dashboard-title">ğŸ©º DiagnÃ³stico Preliminar con IA</h1>
      <p class="subtitle">Ingresa tus sÃ­ntomas para obtener un diagnÃ³stico orientativo basado en inteligencia artificial avanzada.</p>

      <!-- ğŸ§  DiagnÃ³stico -->
      <div id="diagnostico" aria-labelledby="form-title" class="diagnosis-container">
        <div class="diagnosis-card">
          <h2 id="form-title">ğŸ“ Ingresa tus SÃ­ntomas</h2>
          <p class="form-description">Describe tus sÃ­ntomas con el mayor detalle posible. Puedes incluir:</p>
          <ul class="symptom-examples">
            <li>ğŸŒ¡ï¸ SÃ­ntomas fÃ­sicos (fiebre, dolor, fatiga)</li>
            <li>â±ï¸ DuraciÃ³n de los sÃ­ntomas</li>
            <li>ğŸ“Š Intensidad (leve, moderada, severa)</li>
            <li>ğŸ”„ Frecuencia con la que ocurren</li>
          </ul>
          
          <form id="symptom-form" aria-label="Formulario para ingresar sÃ­ntomas">
            <div class="form-group">
              <label for="symptoms" class="form-label">Describe tus sÃ­ntomas:</label>
              <textarea id="symptoms" rows="6" required 
                placeholder="Ejemplo: Tengo fiebre de 38Â°C desde hace 2 dÃ­as, tos seca frecuente y dolor de cabeza moderado. TambiÃ©n siento cansancio." 
                aria-label="Ingresa tus sÃ­ntomas aquÃ­" 
                aria-required="true"
                aria-describedby="symptom-help"></textarea>
              <small id="symptom-help" class="form-help">ğŸ’¡ SÃ© especÃ­fico: incluye detalles como intensidad, duraciÃ³n y frecuencia.</small>
            </div>
            <button type="submit" class="btn-analyze" aria-label="Analizar sÃ­ntomas">
              <span class="btn-icon">ğŸ”</span> Analizar SÃ­ntomas
            </button>
          </form>
          <div id="result" aria-live="polite" aria-atomic="true"></div>
        </div>

        <!-- InformaciÃ³n importante -->
        <div class="info-box warning">
          <div class="info-icon">âš ï¸</div>
          <div>
            <h3>Importante</h3>
            <p>Este diagnÃ³stico es orientativo y no sustituye una consulta mÃ©dica profesional. En caso de emergencia o sÃ­ntomas graves, busca atenciÃ³n mÃ©dica inmediata.</p>
          </div>
        </div>

        <!-- Recomendaciones generales -->
        <div class="tips-section">
          <h3>ğŸ’¡ Consejos Mientras Esperas tu AnÃ¡lisis</h3>
          <div class="tips-grid">
            <div class="tip-item">
              <span class="tip-icon">ğŸ’§</span>
              <span>Mantente hidratado</span>
            </div>
            <div class="tip-item">
              <span class="tip-icon">ğŸ˜´</span>
              <span>Descansa lo suficiente</span>
            </div>
            <div class="tip-item">
              <span class="tip-icon">ğŸŒ¡ï¸</span>
              <span>Monitorea tu temperatura</span>
            </div>
            <div class="tip-item">
              <span class="tip-icon">ğŸ“</span>
              <span>Anota cambios importantes</span>
            </div>
          </div>
        </div>
      </div>

      <!-- âš™ï¸ DiagnÃ³sticos recientes -->
      <div id="recientes" aria-labelledby="recientes-title">
        <h2 id="recientes-title">ğŸ“‹ Mis diagnÃ³sticos recientes</h2>
        <div id="listaDiagnosticos" aria-live="polite">
          <p>No hay diagnÃ³sticos registrados aÃºn.</p>
        </div>
      </div>
    </section>
    <!-- FIN VISTA DIAGNÃ“STICO -->

    <!-- ğŸ¬ VISTA DE VIDEOS EDUCATIVOS -->
    <section id="vista-videos" class="dashboard-section" hidden>
      <h1>ğŸ¬ Videos Educativos</h1>
      <p class="subtitle">Aprende sobre salud y bienestar con nuestros videos educativos</p>

      <!-- Videos educativos -->
      <div class="videos-container">
        <div class="video-card">
          <h2>ğŸ¥ Videos Educativos de Salud</h2>
          <video controls width="100%" aria-label="Video educativo de salud" preload="metadata">
            <source src="../assets/videos/video1.mp4" type="video/mp4">
            Tu navegador no soporta video HTML5.
          </video>
        </div>

        <div class="video-card">
          <h2>ğŸ¥ Videos Educativos de Salud</h2>
          <video controls width="100%" aria-label="Video educativo de salud" preload="metadata">
            <source src="../assets/videos/video2.mp4" type="video/mp4">
            Tu navegador no soporta video HTML5.
          </video>
        </div>
      </div>

      <!-- SecciÃ³n de recursos adicionales -->
      <div class="resources-section">
        <h2>ğŸ“š Recursos Adicionales</h2>
        <div class="resource-cards">
          <div class="resource-card">
            <div class="resource-icon">ğŸ©º</div>
            <h3>GuÃ­a de Primeros Auxilios</h3>
            <p>Aprende procedimientos bÃ¡sicos de primeros auxilios para emergencias comunes.</p>
          </div>
          <div class="resource-card">
            <div class="resource-icon">ğŸƒ</div>
            <h3>Ejercicio y Bienestar</h3>
            <p>Rutinas de ejercicio y consejos para mantener un estilo de vida saludable.</p>
          </div>
          <div class="resource-card">
            <div class="resource-icon">ğŸ¥—</div>
            <h3>NutriciÃ³n Balanceada</h3>
            <p>GuÃ­as de alimentaciÃ³n saludable y recomendaciones nutricionales.</p>
          </div>
          <div class="resource-card">
            <div class="resource-icon">ğŸ§˜</div>
            <h3>Salud Mental</h3>
            <p>TÃ©cnicas de relajaciÃ³n y manejo del estrÃ©s para tu bienestar emocional.</p>
          </div>
        </div>
      </div>
    </section>
    <!-- FIN VISTA VIDEOS -->

    <!-- ğŸ’¡ VISTA DE CONSEJOS DE SALUD -->
    <section id="vista-consejos" class="dashboard-section" hidden>
      <h1>ğŸ’¡ Consejos de Salud y Bienestar</h1>
      <p class="subtitle">Busca informaciÃ³n confiable y consejos personalizados sobre temas de salud</p>

      <!-- Contenedor principal de consejos -->
      <div class="consejos-container">
        
        <!-- ğŸ” Barra de bÃºsqueda mejorada -->
        <div class="search-card">
          <h2>ğŸ” Buscar InformaciÃ³n de Salud</h2>
          <p class="search-description">Busca consejos, informaciÃ³n y recomendaciones sobre cualquier tema de salud</p>
          <div class="search-container" role="search" aria-label="BÃºsqueda de consejos de salud">
            <div class="search-input-wrapper">
              <span class="search-icon">ğŸ”</span>
              <input type="text" id="searchInput" placeholder="Ejemplo: Â¿CÃ³mo prevenir la gripe? o Consejos para dormir mejor..." aria-label="Buscar consejos de salud">
            </div>
            <button class="btn-search" onclick="buscar()" aria-label="Realizar bÃºsqueda">
              <span class="btn-icon">ğŸ”</span> Buscar
            </button>
          </div>
          <div id="searchResults" aria-live="polite" aria-atomic="true"></div>
        </div>

        <!-- ğŸ“š Temas de Salud Frecuentes -->
        <div class="temas-frecuentes-section">
          <h2>ğŸ“š Temas de Salud MÃ¡s Consultados</h2>
          <p class="section-description">Explora los temas de salud mÃ¡s buscados por nuestra comunidad</p>
          <div class="health-topics-grid">
            <div class="health-topic-card" onclick="document.getElementById('searchInput').value='gripe'; buscar();">
              <div class="topic-icon">ğŸ¤§</div>
              <h3>Gripe y Resfriados</h3>
              <p>SÃ­ntomas, prevenciÃ³n y tratamiento</p>
              <button class="topic-btn">Explorar â†’</button>
            </div>
            <div class="health-topic-card" onclick="document.getElementById('searchInput').value='dolor de cabeza'; buscar();">
              <div class="topic-icon">ğŸ¤•</div>
              <h3>Dolor de Cabeza</h3>
              <p>Causas comunes y alivio</p>
              <button class="topic-btn">Explorar â†’</button>
            </div>
            <div class="health-topic-card" onclick="document.getElementById('searchInput').value='presiÃ³n arterial'; buscar();">
              <div class="topic-icon">â¤ï¸</div>
              <h3>PresiÃ³n Arterial</h3>
              <p>Control y prevenciÃ³n cardiovascular</p>
              <button class="topic-btn">Explorar â†’</button>
            </div>
            <div class="health-topic-card" onclick="document.getElementById('searchInput').value='diabetes'; buscar();">
              <div class="topic-icon">ğŸ©¸</div>
              <h3>Diabetes</h3>
              <p>Manejo y alimentaciÃ³n saludable</p>
              <button class="topic-btn">Explorar â†’</button>
            </div>
            <div class="health-topic-card" onclick="document.getElementById('searchInput').value='estrÃ©s'; buscar();">
              <div class="topic-icon">ğŸ§˜</div>
              <h3>EstrÃ©s y Ansiedad</h3>
              <p>TÃ©cnicas de manejo y relajaciÃ³n</p>
              <button class="topic-btn">Explorar â†’</button>
            </div>
            <div class="health-topic-card" onclick="document.getElementById('searchInput').value='nutriciÃ³n'; buscar();">
              <div class="topic-icon">ğŸ¥—</div>
              <h3>NutriciÃ³n Saludable</h3>
              <p>Dieta balanceada y hÃ¡bitos</p>
              <button class="topic-btn">Explorar â†’</button>
            </div>
          </div>
        </div>

        <!-- ğŸ©º Consejos Destacados -->
        <div class="consejos-destacados-section">
          <h2>ğŸ©º Consejos Esenciales de Salud</h2>
          <p class="section-description">Recomendaciones clave para mantener tu bienestar</p>
          <div class="consejos-grid">
            <div class="consejo-card">
              <div class="consejo-icon">ğŸ’§</div>
              <h3>HidrataciÃ³n Adecuada</h3>
              <p>Mantente hidratado bebiendo al menos 2 litros de agua diarios. La hidrataciÃ³n mejora la funciÃ³n cerebral, digestiÃ³n y energÃ­a.</p>
              <div class="consejo-tag">Esencial</div>
            </div>
            
            <div class="consejo-card">
              <div class="consejo-icon">ğŸ˜´</div>
              <h3>Descanso de Calidad</h3>
              <p>Dormir 7-8 horas fortalece tu sistema inmunolÃ³gico, mejora la memoria y regula el metabolismo.</p>
              <div class="consejo-tag">Fundamental</div>
            </div>
            
            <div class="consejo-card">
              <div class="consejo-icon">ğŸ¥—</div>
              <h3>AlimentaciÃ³n Balanceada</h3>
              <p>Incrementa el consumo de frutas, verduras y proteÃ­nas magras. Una dieta variada aporta todos los nutrientes necesarios.</p>
              <div class="consejo-tag">Importante</div>
            </div>
            
            <div class="consejo-card">
              <div class="consejo-icon">ğŸš¶</div>
              <h3>Actividad FÃ­sica Regular</h3>
              <p>Realiza ejercicio moderado al menos 30 minutos al dÃ­a. Mejora la salud cardiovascular y reduce el estrÃ©s.</p>
              <div class="consejo-tag">Recomendado</div>
            </div>
            
            <div class="consejo-card">
              <div class="consejo-icon">ğŸ§˜</div>
              <h3>Salud Mental</h3>
              <p>Dedica tiempo a actividades que te relajen. La meditaciÃ³n, yoga o hobbies reducen la ansiedad y mejoran el bienestar.</p>
              <div class="consejo-tag">Vital</div>
            </div>
            
            <div class="consejo-card">
              <div class="consejo-icon">ğŸ§¼</div>
              <h3>Higiene Personal</h3>
              <p>Lava tus manos frecuentemente con agua y jabÃ³n por al menos 20 segundos para prevenir infecciones.</p>
              <div class="consejo-tag">PrevenciÃ³n</div>
            </div>
            
            <div class="consejo-card">
              <div class="consejo-icon">â˜€ï¸</div>
              <h3>Vitamina D Natural</h3>
              <p>Toma sol al menos 15 minutos diarios (con protecciÃ³n solar). La vitamina D fortalece huesos y sistema inmune.</p>
              <div class="consejo-tag">Beneficioso</div>
            </div>
            
            <div class="consejo-card">
              <div class="consejo-icon">ğŸš­</div>
              <h3>PrevenciÃ³n Activa</h3>
              <p>Evita el tabaco y limita el consumo de alcohol. Los hÃ¡bitos saludables previenen enfermedades crÃ³nicas.</p>
              <div class="consejo-tag">CrÃ­tico</div>
            </div>
          </div>
        </div>
      </div>
            <h3>Diabetes</h3>
            <p>InformaciÃ³n y cuidados</p>
          </div>
        </div>
      </div>
    </section>
    <!-- FIN VISTA CONSEJOS -->

  </main>

  <footer role="contentinfo">
    <p>Â© 2025 DiagnÃ³stico IA | 
      <a href="soporte.html" style="color: inherit; text-decoration: underline;">Soporte</a> | 
      <a href="#" onclick="mostrarPoliticas(event)" style="color: inherit; text-decoration: underline; cursor: pointer;">PolÃ­tica de privacidad</a> | 
      <a href="#" onclick="mostrarAcercaDe(event)" style="color: inherit; text-decoration: underline; cursor: pointer;">Acerca del proyecto</a>
    </p>
  </footer>

  <!-- Supabase Client CDN -->
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
  
  <!-- Archivos de configuraciÃ³n e integraciÃ³n -->
  <script src="../javascript/config.js"></script>
  <script src="../javascript/supabase-client.js"></script>
  <script src="../javascript/gemini-service.js"></script>
  <script src="../javascript/i18n.js"></script>
  <script src="../javascript/script.js"></script>

</body>
</html>
